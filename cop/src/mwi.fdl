dp mwi (
    in  old    : ns(32);
    in  curr   : ns(32);
    in  enable : ns(1);
    out result : ns(32)) {

    reg acc : ns(32);
    sig add : ns(32);
    sig sub : ns(32);

    always {
        add = curr + acc;
        sub = enable ? add - old : acc;

        acc = sub;
        result = (ns(57))(sub * 1118482) >> 25;

        $display($dec, "acc: ", acc);
    }
}
