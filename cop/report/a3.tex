\documentclass{article}

\usepackage{fullpage}
\usepackage[latin1]{inputenc}
\usepackage[danish]{babel}
\usepackage{listings}
\usepackage{caption}
\usepackage[table]{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{parskip}
\usepackage{abstract}
\usepackage{url}
\usepackage{float}
\usepackage{enumitem}
\usepackage[all]{xy}
\usepackage{amstext}
\usepackage{fancybox}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage[bottom]{footmisc}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{makecell}

% bootstrap label style highlighting
\newcommand\hw[2][]{\tikz[overlay]\node[fill=blue!20,inner sep=1pt, anchor=text, rectangle, rounded corners=0.1mm,#1] {#2};\phantom{#2}}

% styling
\newcommand{\code}[1]{\texttt{#1}}

% diagrams
\newcommand{\switch}[1]%
  {\ovalbox{\text{\begin{minipage}{1.2in}\centering #1\end{minipage}}}}
\newcommand{\minibox}[1]%
  {\ovalbox{\text{\begin{minipage}{0.85in}\centering #1\end{minipage}}}}

\pagestyle{fancy}
\fancyhf{}
\setlength{\parindent}{0pt}
\setlength{\headheight}{15pt}
\setlength{\headsep}{25pt}
\lfoot{Side \thepage{} af \pageref{LastPage}}
\rfoot{09/12-2013}
\lhead{Embedded Systems}
\chead{Assignment 3}
\rhead{}

\title{Assignment 3}
\date{09.12.2013}
\author{
  Simon Altschuler\\
  \code{s123563}
  \and
  Markus Færevaag\\
  \code{s123692}
}

\begin{document}
\maketitle
\centerline{Gruppens arbejde har været fordelt lige i forbindelse med udarbejdelse
af opgaven og rapporten.}
\clearpage

\tableofcontents
\clearpage

\section{Introduktion} % Norsk
Vi har i denne oppgave re-implementeret vores MWI filter fra A2 i form
af en co-processor, som styres af processoren i vores tidligere
system. De kommunikerer over bussen og er ikke direkte forbundet.

Dette gjoer at vi kan oppnaa en helt annen ydelse naar det gjelder
analysen av dataen, resulterende en endnu mer realistisk loesning av et
komplett inlejret system.

\section{Problemstilling}
\subsection{Fokus}
Det er nødvendigt at vælge hvilke aspekter af ydeevne man vil
fokuserer på når man skal designe en processor, eller i dette tilfælde
en co-processor. I nogle tilfælde, f.eks. GPU'er, er det altafgørende
hvor hurtigt enheden kan behandle tal. Hvis denne GPU skulle bruges i
en mobil enhed, ville det være at samme kritiske karakter at den ikke
bruger for meget strøm og at den er lille nok til at en moderne
telefon har plads til den.

I vores tilfælde er strømforbrug ikke en særlig vigtig egenskab. Det
er naturligvis hensigsmæssigt at systemet som helhed bruger så lidt
strøm som muligt, men da der er mange andre komponenter indblandet
(såsom skærm, sensore og højtalere) vil vores co-processor aldrig
blive den afgørende faktor for det samlede strømforbrug.

Pladsforbrug er ej heller af høj betydning. Vi ved at størrelsen på
co-processoren realistisk set ville være utroligt lille, så om den
fylder $0.5mm^2$ eller $5mm^2$ er ikke noget, der vil afgøre én
implementationsmetode over en anden.

Vi vælger til slut at fokusere hovedsageligt på hastighedsmæssig
ydeevne. Medicinalt udstyr bør frem for alt være pålideligt og
præcist, og det er derfor afgørende at hardwaren aldrig bliver en
flaskehals for dataanalysen. Vi vil hellere have et system som bruger
lidt mere strøm, og altid er pålideligt. 

Som anden prioritet vil vi optimere for strømforbrug. Vi vil finde
passende algoritmer der opfylder vores hastighedsmæssige krav og
forsøge at optimere disse til et minimalt strømforbrug.

\subsection{Algoritmer}
Ud fra vores fokus på hastighed skal vi finde nogle algoritmer som
opfylder vores krav til systemet. Disse krav inkluderer bl.a.~at
co-processoren skal kunne udregne en nyt MWI værdi på én cycle. På den
måde slipper vi for at systemet venter på udregningen og kan gå i
hvile eller udføre andre opgaver inden det næste data sample bliver
sent til main processoren.

Vores krav til energiforbruget er som udgangspunkt mere vage da vi ved
at det vil afhænge af hvilket design vi finder passende
mht.~hastighed. Vi stiller dermed det krav at energiforbruget ikke må
overstige, og helst være under, det i A2 funde forbrug.

Hvis vi ikke havde valgt at fokusere på hastighed, og i stedet
optimeret for eksempelvis pladsforbrug, ville vi have undersøgt
hvordan vi kunne bruge færrest mulige registre og andre komponenter i
implementationen.

\section{Design}
\subsection{Fokus}
Vi vælger at fokuserer på hastighed, størrelse er
irrelevant. Energiforbrug er af mindre betydning, men er stadig værd
at overveje. En skærm vil alligevel være den klart mest energimæssigt
krævende enhed.

At bruge 30 registre vs at bruge 4 og loade tilbage. Vi bruger 30+lidt
for at undgå ekstra load.


\section{Implementation}
\subsection{Overordnet}
\begin{figure}[H]
\includegraphics[width=18cm]{diagrams/copro.pdf}
\label{fig:schematic}
\caption{Skema over MWI co-processor implementationen}
\end{figure}

Bruger positive værdier da vi ved det er fucking fedt. Le fak?

\subsection{Register komponent}
Bruger 30 registre
Beskriv ``pointer'' metoden
Behøver ikke at tjekke hvor mange samples der er observeret fordi registre som standard = 0

\subsection{MWI udregning}

\section{Test}
Tester alle komponenter individuelt
Svært at teste bus integration automatisk


\section{Resultater}
Antal cycles i forhold til uden copro


\section{Konlusion}

\section{Kørsel}

\end{document}
