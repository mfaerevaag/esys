#include "controller.fdl"
#include "instmem.fdl"
#include "alu.fdl"
#include "reg.fdl"
#include "pc.fdl"
        
system main {
    pc(pc_out, instr[0:27], jmp);

    alu(reg_a, reg_b, alu_sel, alu_op, alu_res, alu_neg, alu_zero);

	instreader(pc_out, instr);

    regfile(instr[15:17], instr[12:14], set, instr[18:20], alu_res, reg_a, reg_b);

    controller(instr[28:31], jmp, jlt, jgt, alu_op, alu_sel, load, store, set, addi, cmp, mov);
}
